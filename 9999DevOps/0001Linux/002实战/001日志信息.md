# 切割日志

```shell
# 需求 日志文件大小5G

# 查看日志行数
wc -l info.log

# 确认行数
grep -n "关键词"  info.log
 # 若太多可 通过时间戳确认
grep -n "2023-11-09 18:21:19.149" info.log
# 输出
12101011:2023-11-09 18:21:19.149 xxxx,yyyy

# 截取指定范围内日志信息
# sed -n '开始行数,结束行数p'  待截取的文件  >> 保存的新文件 
sed -n '12101011,2151443p' info.log >> info_bak.log


查看文件的某几行
1、使用cat命令
（1）查看文件的前10行：

cat filename |head -n 10
（2）查看文件后10行：

cat filename |tail -n 10
（3）查看文件从第10行开始直到最后一行：

cat filename |tail -n +10
（4）查看文件前10行的后5行，即第6~10行：

cat filename |head -n 10|tail -n 5
（5）查看文件前10行中从第5行开始的部分，即第5~10行：

cat filename |head -n 10|tail -n +5
（6）查看文件后10行中的前5行，即倒数第10行~倒数第6行：

cat filename |tail -n 10|head -n 5
（7）查看 文件后10行中从第5行开始的部分，即倒数第6行~倒数第1行：

cat filename |tail -n 10|tail -n +5
（8）查看文件从第5行开始的后10行，即5~14行：

cat filename |tail -n +5| head -n 10
单独命令的意思：

head -n 10 : 前10行
tail -n 10 : 后10行
tail -n +10 : 从第10行开始往后
2、使用sed命令
（1）查看文件的全部内容：

sed '' filename
（2）查看文件的第5到10行：

sed -n '5,10p' filename
二、从另一文件中复制某几行到本文件
打开本文件之后，可以利用“r!”命令来把另一文件的内容复制过来：

:r! command “command”的结果插入光标下一行
:nr! command “command”的结果插入光标的n行后
例如：

:r! cat filename |head -n 10 把“filename”文件的前10行复制到本文件
三、把本文件中的某几行复制到另一文件
（1）把本文件的5~10行复制到“filename”文件的后面：

:5,10 w>> filename
（2）把本文件的5~10行复制到“filename”中，清除“filename”原文件的内容：

:5,10 w! filename
```



